                MOהץלר  'DISK_IO'               
TEXT#           CEKדיס  3E011H,נ20,HתAנ,נPEז,לKOM
DISK:                                           
                ץPצ     230H                    
                BיM     W                       
                ץיA     -12(W)                  
SR                                              
                BיM     R1+12(W)                
                דיKל    SR(W)                   
                C‏M     7(R1)                   
                תנ      KOT                     
                ץיA     -7(W)                   
                ץיA     HOMKAH(R2)              
ננAP                                            
                נזA     (R1)                    
                C‏      7(W)                    
                תנ+     -1(R2)                  
                דיKל    ננAP(W)                 
                Bי      S                       
                תנ      CTEK                    
                נז      KOT                     
                נג      #+1                     
:               נג      Kץ                     
:               ץיA     תAניCר(W)               ; יCנ=1
                נג      K0                     
:               ץיA     ‏TEHיE(W)               ; יCנ=2
K0             C‏      AהP_Oתץ                 
                C‏M     HOM_גלO                 
                נג      (W)                     
AהP_Oתץ         נAM                             
HOM_גלO         נAM                             
זלA_‏TE         נAM                             
הלי_תAנ         נAM                             
HOM_נAK         נAM                             
HOM_ץCT         נAM                             
HOM_KAH         נAM                             
                KOHה    038000000 00000000H     
                KOHה    0D8000000 00000008H     
                KOHה    058000000 00000010H     
                KOHה    080000000 00000018H     
R1              KB     1                       
R2              KB     2                       
R3              KB     3                       
R4              KB     4                       
R5              KB     5                       
R6              KB     6                       
R8              KB     8                       
RB              KB     11                      
R               KB     13                      
W               KB     14                      
S               KB     15                      
גץזEP           KB     40000H - 6000           
ץCK             נAM                             
CCK             נAM                             
גץC             נAM     3                       
HOM_חOל         נAM                             
HOM_תAנ         נAM                             
X0              KOHה    8300 0000 0FFF FFFFH    ; הלס XAP=0
                KOHה    [25]00 08 04 0000H!HET_Oג
                KOHה    [25]00 FF FF 1F90H      
                KOHה    [25]00 4A 04 0010H!HAהO_נOB
                KOHה    [25]00 FF FF 1F90H      
X1              KOHה    8400 0000 0FFF FFFEH    ; הלס XAP=1
                KOHה    [33]000C 0000H!HET_Oג  ; KB
                KOHה    [33]00FF 1F90H          
                KOHה    [33]004E 0010H!HAהO_נOB ; MKBC
                KOHה    [33]00FF 1F90H          
                KOHה    [33]0008 0000H!HET_Oג  ; KK OKK=1
                KOHה    [33]00FF 1F90H          
KגץC            KOHה    00 04 00 0003 000000H!גץC
‏TEHיE          C‏M     =00 06 84 0083 000000H  
                נB      זOP_KנPO(R)             
                נB      נץCK_OגMEHA(R)          
                נזA     (RB)                    
                ץיA     גץזK(R4)                
                C‏      KתAנ(RB)                
                ץיM     W                       
                ץי      R1                      ; גAתA MACCיBA OגMEHA
‏TE0            ץיA     -127(R2)                
                C‏ל                             
:               תנ      (S)                     
                C‏T+    1(R4)                   
                תנT+    1(R1)                   
                CלK     (S)                     
                דיKל    #-2(R2)                 
                HTצ+    1(R4)                   
                נHP     KCM_HE_COBנ             
                C‏      NתAנ(RB)                
                HTצ+    2(R4)                   ; HOM TOMA; HOM גלOKA
                Cהנ     24                      
                תנ                              ; נHP Oג_CלCל
                C‏      NתAנ(RB)                
                CלK     =.25                    
                תנ      NתAנ(RB)                
                דיKל    ‏TE0(W)                 
                C‏ל                             
                נג      BOתBPAT                 
תAניCר          C‏M     =00 05 84 0083 000000H  
                נB      זOP_KנPO(R)             
                C‏      KתAנ(RB)                
                ץיM     W                       ; KOל תAניCEך
                ץי      R1                      ; גAתA MACCיBA OגMEHA
                נזA     (RB)                    
                ץיA     גץזK(R4)                ; גAתA גץזEPA KAHAלA
                C‏      זלA_‏TE                 
                נPB     תAנ0                    
                C‏      =00 08 04 0000 000000H  
                יליל    128(R3)                 
                תנ      (R2)                    
                C‏      KKOM(RB)                
                תנ      -1(R2)                  
תAנ0            ץיA     -127(R2)                
                C‏ל                             
:               תנ      (S)                     
                C‏T+    1(R1)                   
                תנT+    1(R4)                   
                CלK     (S)                     
                דיKל    #-2(R2)                 
                תנ+     1(R4)                   ; KCM
                C‏      NתAנ(RB)                
                תנ+     2(R4)                   ; HOM TOMA; HOM גלOKA
                CלK     =.25                    
                תנ      NתAנ(RB)                
                דיKל    תAנ0(W)                 
                נB      נץCK_OגMEHA(R)          
                C‏      זלA_‏TE                 
                נPB     BOתBPAT                 
                נזA     (RB)                    
                ץיA     גץזK(R4)                
                C‏      KתAנ(RB)                
                ץי      W                       
KCM             C‏ל                             
                ץיA     -127(R3)                
:               תנ      (S)                     
                C‏T+    1(R4)                   
                CלK     (S)                     
                דיKל    #-1(R3)                 
                HTצ+    3(R4)                   
                נHP     OיגKA_OגMEHA           
                דיKל    KCM(W)                  
                נג      BOתBPAT                 
גץזK            KB     0                       ; CTPץKTץPA ינK
דדחחN           KB     גץזK+131*32             
KKOM            KB     דדחחN                   
MKAH_נPO        KB     דדחחN+32+6              
ץCTP            KB     MKAH_נPO+258            
NתAנ            KB     ץCTP+1                  
KתAנ            KB     NתAנ+1                  
זOP_KנPO        C‏M     HOM_KAH                 ; זOPיMיPOBAHיE גAתש KAHAלA
                ץMH     =4435                   
                נזC                             
                ץיA     גץזEP(RB)               
                נזA     (RB)                    
                ץיA     דדחחN+1(R1)             
                נזA     (RB)                    
                ץיA     MKAH_נPO(R2)            
                C‏      HOM_ץCT                 
                ץי      R6                      
                Cהל     56                      
                נז      HOM_KAH                 
                CלK     HOM_KAH+1               
                ץי      R5                      ; AהPEC MנK
                י       =.[64:57]               
                תנ      ץCTP(RB)                
                ץיי     R3(R2)                  
                ילי     (S)                     
                CלKל    גץזK-83H(RB)            
                תנ      KKOM(RB)                
                C‏      =1                      
                B‏      הלי_תAנ                 
                ץי      W                       
                תנM     KתAנ(RB)                
                ץי      R4                      ; HA‏AלרHשך גלOK
                Cהל     24                      
                C‏M     HOM_נAK                 
                Cהל     48                      
                ילי     (S)                     
                תנ      NתAנ(RB)                
זOP0            C‏ל     (R4)                    
                CליA    1(R4)                   
                ץMH     =8000 158E D230 8159H   ; R1/190
                BהM                             ; דיליHה
                ץMH     =8000 0000 0000 0013H   
                תנ      HOM_חOל                 
                Bה                              
                ץMH     =8000 0000 0000 0A00H   ; 256*10
                CלK     =100H                   
                תנM     HOM_תAנ                 
                B‏      =327H                   
                נגל     HEBP_היAנ               
                Cל      =327H                   
                Cהל     16                      ; דיליHהP
                ילי     HOM_חOל                 
                Cהל     16                      
                ילי     HOM_תAנ                 
                תנ      (R1)                    
                Cהל     16                      
                תנ      (S)                     
                HTצ     -1(R1)                  
                Cהנ     32                      
                נPB     HET_ץCT                 
                C‏      =00 07 64 0000 000000H  
                ילי     ץCTP(RB)                
                יליל    (R1)                    
                תנ+     1(R2)                   
                תנ      127(R2)                 ; KK ‏TE
                CליA    1(R1)                   
HET_ץCT         C‏      =00 31 54 0000 000000H  
                ילי     ץCTP(RB)                
                יליל    (R1)                    
                תנ+     1(R2)                   
                תנM     127(R2)                 ; KK ‏TE
                תנ+     1(R1)                   
                C‏      =00 08 04 0000 000000H  
                ילי     ץCTP(RB)                
                יליל    -1(R2)                  
                תנ+     1(R2)                   
                CלK     =128                    
                תנ      127(R2)                 ; KK ‏TE
                C‏      KKOM(RB)                ; KOM=תנ/C‏
                CלK     =83H                    
                תנ      KKOM(RB)                
                תנ+     1(R2)                   
                CלK     =.49                    
                תנ      127(R2)                 ; KK ‏TE
                דיKל    זOP0(W)                 
                HTצ     =.43                    
                תנ      127(R2)                 ; KK ‏TE
                C‏      KKOM(RB)                
                HTצ     =.43                    
                תנ      -1(R2)                  
                ץיA     -7(R8)                  
                נג      (R)                     
נץCK_OגMEHA     Bי      R3                      
                נB      צהץ_נPE(W)              
                BPח     286H(R5)                
                תנ      CCK                     
                Cהנ     1                       
                י       =7                      
                BהM                             
                נז      (S)                     
                נPB     נEPEK_XAP               
                BPח     686H(R5)                ; ECTר TPג-A
                Cהנ     24                      
                י       =0FFH                   
                תנ      KOT                     
                נג      נץCK_OגMEHA             
נEPEK_XAP       ץיA     X0(W)                   ; XAP=0
                נג      AHAלית_CCK              
                ץיA     X1(W)                   ; XAP=1
                נג      AHAלית_CCK              
:               נג      Oג_OגM                 ; XAP=2 OTKAת KAHAלA
:               נג      Oג_OגM                 ; XAP=3 O AהPECA Bץ
:               נג      Oג_OגM                 ; XAP=4 Bץ HE HAךהEHO
:               BPח     686H(R5)                ; XAP=5 Bץ תAH=50 00 0A
                נג      צץצץ                    
                CTOנ    6                       ; XAP=6 Oיג ‏TEHיס Oתץ
                נג      #                       
                CTOנ    7                       ; XAP=7 נEPEXOה B KAHAלE
                נג      #                       
AHAלית_CCK      נז      (W)                     
                ץיA     (R4)                    ; הליHA
                C‏      CCK                     
                Cהלנ+   1(W)                    
                HTצ     (R3)                    
                י       =.[64:57]               
                נHP     O_HOM_ץCT              
:               Bה                              
                HTצ+    1(W)                    
                י+      1(W)                    
                נז      -2(W)                   
                נPB                             
                דיKל    #-2(R4)                 
Oג_OגM         BPח     680H(R5)                
                תנ      ץCK                     
                C‏      KגץC                    ; ץTO‏HEHיE COCTOסHיס
                י       =.[56:1]                
                ילי     ץCTP(RB)                
                תנ      KגץC                    
                C‏ל     KגץC                    
                נB      צהץ_נPE(W)              
                BPח     686H(R5)                
                דיKל    נץCK_OגMEHA(R8)         
                C‏      =1                      
                נג      BOתBPAT                 
O_HOM_ץCT      C‏ל     2                       
                נג      BOתBPAT                 
Oג_CלCל        C‏ל     3                       
                נג      BOתBPAT                 
KCM_HE_COBנ     C‏ל     4                       
                נג      BOתBPAT                 
OיגKA_OגMEHA   C‏ל     5                       
                נג      BOתBPAT                 
TOM_HE_MOך      C‏ל     6                       
                נג      BOתBPAT                 
HEBP_היAנ       C‏ל     7                       
                נג      BOתBPAT                 
HET_Oג         BPח     686H(R5)                
                נג      (R)                     
HAהO_נOB        BPח     681H(R5)                ; HOלר KAHAלA
                BPח     284H(R5)                
                י       =.[23:1]                
                B‏      =1                      
                ץיA     נץCK_OגMEHA+1(W)        
צהץ_נPE         BשT                             
                ץPח     484H(R5)                ; נץCK KAHAלA
צץצץ            BPח     24H                     
                C‏M     =[36]11H                
                נז      HOM_KAH                 
                Cהנ                             
                י       (S)                     
                נPB     צץצץ                    
                י       =.36                    
                נPB     (W)                     
:               CTOנ    0FFFH                   ; ECTר יCEC
                נג      #                       
Kץ             C‏      =.44                    ; OגHץלEHיE KOHTP
                נז      HOM_KAH                 
                Cהנ                             
                ץPח     24H                     
                C‏ל                             
                ץPח     24H                     
                ץיA     32(W)                   
CHס_יM          C‏ל     =00 08 04 0000 000000H  ; נEPEXOה B KAHAלE
                CליA    -8(W)                   
                ץPח     484H(W)                 
                ץיA     -99(R)                  
:               ץי                              ; תAהEPצKA
                דיKל    #(R)                    
                BPח     686H(W)                 ; OגHץלEHיE
                ניHP    CHס_יM(W)               
                C‏ל                             
BOתBPAT         תנ      KOT                     
                נז      CTEK                    
                ץיA     (S)                     
                ץיA     13(W)                   
                C‏      (S)                     
                ץPצ     200H                    
RR              ץיM     (W)                     
                CליA    -1(W)                   
                ניHP    RR(W)                   
                ץי      W                       
                ץיי     S(R1)                   
                CליA    -1(S)                   
                C‏      KOT                     
                נג      (W)                     
KOT             נAM                             
                ליTEP                           
CTEK            נAM                             
                זיHי                           
